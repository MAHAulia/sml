import{m as h,r as j,j as e}from"./app-C_Xl1hVa.js";import{I as d}from"./input-error-BRsi53bm.js";import{B as l}from"./button-DqRhH-eC.js";import{I as p}from"./input-BgaY3-Dz.js";import{L as u}from"./label-Ek_Qzl9A.js";import{L as b}from"./loader-circle-Ci4U0guX.js";import"./index-TONUvGxE.js";import"./createLucideIcon-yyk1M_YS.js";function L({role:t}){const{data:s,setData:a,post:x,put:f,processing:r,errors:m,reset:o}=h({name:"",description:"",action:"add"});j.useEffect(()=>{t!=null&&(a("name",t.name),a("description",t.description??""),a("action","update"))},[t]);const g=i=>{i.preventDefault(),console.log(s.action),s.action=="add"&&x(route("role.store"),{onSuccess:()=>{n()},onError:c=>{console.log(c)}}),s.action=="update"&&f(route("role.update",t==null?void 0:t.id),{onSuccess:()=>{n()},onError:c=>{console.log(c)}})},n=()=>{o("name"),o("description"),o("action")};return e.jsxs("div",{children:[e.jsx("form",{className:"flex flex-col gap-6",onSubmit:g,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"name",children:"Role / Peran"}),e.jsx(p,{id:"name",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"name",value:s.name,onChange:i=>a("name",i.target.value),placeholder:"Tukan Ketik"}),e.jsx(d,{message:m.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"description",children:"Deskripsi"}),e.jsx(p,{id:"description",type:"text",tabIndex:2,autoComplete:"description",value:s.description,onChange:i=>a("description",i.target.value),placeholder:"Email"}),e.jsx(d,{message:m.description})]}),e.jsxs(l,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:r,children:[r&&e.jsx(b,{className:"h-4 w-4 animate-spin"}),"Simpan"]}),e.jsx(l,{variant:"outline",type:"reset",className:"w-full",tabIndex:5,disabled:r,onClick:()=>n(),children:"Batal"})]})}),status&&e.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:status})]})}export{L as default};
