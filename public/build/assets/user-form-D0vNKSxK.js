import{m as f,r as b,j as e}from"./app-C_Xl1hVa.js";import{I as c}from"./input-error-BRsi53bm.js";import{B as u}from"./button-DqRhH-eC.js";import{I as p}from"./input-BgaY3-Dz.js";import{L as d}from"./label-Ek_Qzl9A.js";import{S as v,a as S,b as N,c as I,d as C,e as E,f as F}from"./select-DbNF__10.js";import{L as P}from"./loader-circle-Ci4U0guX.js";import"./index-TONUvGxE.js";import"./index-DArG0cmA.js";import"./index-Ct41ffGo.js";import"./index-CbQObyKB.js";import"./index-CEQ1ywdH.js";import"./index-CIcCVeoX.js";import"./chevron-up-B22NFYOQ.js";import"./createLucideIcon-yyk1M_YS.js";import"./check-BHNhN0VU.js";function J({roles:g,user:t}){const{data:l,setData:r,post:x,put:h,processing:i,errors:n,reset:s}=f({name:"",email:"",role:"",action:"add"});b.useEffect(()=>{t!=null&&(r("name",t.name),r("email",t.email),r("role",t.role_id!=null?t.role_id.toString():""),r("action","update"))},[t]);const j=a=>{a.preventDefault(),console.log(l.action),l.action=="add"&&x(route("pengguna.store"),{onSuccess:()=>{o()},onError:m=>{console.log(m)}}),l.action=="update"&&h(route("pengguna.update",t==null?void 0:t.id),{onSuccess:()=>{o()},onError:m=>{console.log(m)}})},o=()=>{s("name"),s("email"),s("role"),s("action")};return e.jsxs("div",{children:[e.jsx("form",{className:"flex flex-col gap-6",onSubmit:j,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"name",children:"Nama Pengguna"}),e.jsx(p,{id:"name",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"name",value:l.name,onChange:a=>r("name",a.target.value),placeholder:"Fulan bin Fulan"}),e.jsx(c,{message:n.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"email",children:"Email Pengguna"}),e.jsx(p,{id:"email",type:"email",required:!0,tabIndex:2,autoComplete:"email",value:l.email,onChange:a=>r("email",a.target.value),placeholder:"Email"}),e.jsx(c,{message:n.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"role",children:"Role Pengguna"}),e.jsxs(v,{value:l.role,onValueChange:a=>r("role",a),defaultValue:l.role,required:!0,children:[e.jsx(S,{id:"role",tabIndex:3,className:"w-full",children:e.jsx(N,{placeholder:"Pilih peran Pengguna"})}),e.jsx(I,{children:e.jsxs(C,{children:[e.jsx(E,{children:"Role Pengguna"}),g.map(a=>e.jsx(F,{value:a.id.toString(),children:a.name},a.id))]})})]}),e.jsx(c,{message:n.role})]}),e.jsxs(u,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:i,children:[i&&e.jsx(P,{className:"h-4 w-4 animate-spin"}),"Simpan"]}),e.jsx(u,{variant:"outline",type:"reset",className:"w-full",tabIndex:5,disabled:i,onClick:()=>o(),children:"Batal"})]})}),status&&e.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:status})]})}export{J as default};
